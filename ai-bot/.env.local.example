# =====================================
# LOCAL DEVELOPMENT ENVIRONMENT
# =====================================
# Copy this file to .env.local and add your actual keys
# This configuration matches production setup for 100% fidelity
#
# Usage:
#   cp .env.local.example .env.local
#   nano .env.local  # Add your actual keys
#
# NEVER commit .env.local to git (it contains secrets)
# =====================================

# =====================================
# ANTHROPIC API - PRIMARY PROVIDER (HusanAI)
# =====================================
# Production uses HusanAI as custom Claude API endpoint
# This provides API access wrapped in your organization's infrastructure
ANTHROPIC_BASE_URL=https://husanai.com
ANTHROPIC_API_KEY=sk-9DCclt4ifSpkP1WVx1EPZcHf798R6Fbh0G6HuOcrDAjrQoVj

# =====================================
# API FALLBACK CONFIGURATION
# =====================================
# Fallback to official Anthropic API if HusanAI fails
# This ensures service reliability even if custom endpoint has issues
ANTHROPIC_BASE_URL_FALLBACK=https://api.anthropic.com
ANTHROPIC_API_KEY_FALLBACK=sk-ant-api03-YOUR_OFFICIAL_ANTHROPIC_KEY_HERE
FALLBACK_MODEL=claude-haiku-4-5-20251001

# =====================================
# SUPABASE CONFIGURATION
# =====================================
# Required for Operations Assistant and Menu Engineer bots
# Optional for other bots
SUPABASE_URL=https://wdpeoyugsxqnpwwtkqsl.supabase.co
SUPABASE_KEY=your-supabase-anon-key-here

# =====================================
# CAMPFIRE CONFIGURATION (Local Docker)
# =====================================
# These are set automatically by docker-compose.dev.yml
# DO NOT set these manually - they're for documentation only
# CAMPFIRE_URL=http://campfire:80
# CAMPFIRE_DB_PATH=/campfire-db/development.sqlite3

# =====================================
# APPLICATION SETTINGS
# =====================================
# Set to false for real integration testing
TESTING=false

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Flask server config (set by docker-compose)
# FLASK_PORT=5000
# FLASK_HOST=0.0.0.0

# =====================================
# FILE SAVING CONFIGURATION (v0.4.1)
# =====================================
# Directory for temporary file storage (presentations, reports, etc.)
# Files saved here are registered with FileRegistry for 1-hour expiring downloads
FILE_TEMP_DIR=/tmp

# =====================================
# SESSION MANAGEMENT (v0.5.0 - Memory Leak Prevention)
# =====================================
# Session TTL in hours - how long to keep inactive sessions in memory
# This prevents zombie Claude CLI processes from accumulating (~160MB each)
#
# Local dev (8GB+ RAM):
#   - 24 hours (default): Convenient for development
#   - 1 hour (recommended): Validates cleanup logic
#   - 0.0167 (1 minute): Fast testing of cleanup
#
# Production (2GB RAM server):
#   - 0.083 (5 minutes): Aggressive cleanup to prevent OOM
#
# Uncomment to override default (24 hours):
# SESSION_TTL_HOURS=1

# =====================================
# NOTES
# =====================================
# 1. HusanAI Key: Same as production for consistency
# 2. Fallback Key: Use your official Anthropic API key
# 3. Supabase: Optional - only needed for operations/menu bots
# 4. Session TTL: Local can use 1-24 hours, production should use 5 minutes (0.083)
# 5. Never commit .env.local to git
# 6. Keep this .env.local.example in git as template
